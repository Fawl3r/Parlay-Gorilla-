# üìã Complete Backend Environment Variables for Render

Complete checklist of all environment variables that should be in your Render backend service (`parlay-gorilla-backend`).

---

## ‚úÖ Auto-Wired by Render (DO NOT SET THESE)

These are automatically configured by Render from your `render.yaml` Blueprint:

- ‚úÖ `DATABASE_URL` - Auto-wired from `parlay-gorilla-postgres` database
- ‚úÖ `REDIS_URL` - Auto-wired from `parlay-gorilla-redis` key-value store
- ‚úÖ `JWT_SECRET` - Auto-generated by Render
- ‚úÖ `ENVIRONMENT` - Set to `production`
- ‚úÖ `DEBUG` - Set to `false`
- ‚úÖ `USE_SQLITE` - Set to `false`
- ‚úÖ `OPENAI_ENABLED` - Set to `true`
- ‚úÖ `FRONTEND_URL` - Set to `https://www.parlaygorilla.com`
- ‚úÖ `BACKEND_URL` - Set to `https://api.parlaygorilla.com`
- ‚úÖ `APP_URL` - Set to `https://www.parlaygorilla.com`

**You don't need to manually set these - Render handles them automatically!**

---

## üî¥ REQUIRED - Core Functionality

These are **required** for the app to work. Set these in Render dashboard:

```env
# The Odds API - REQUIRED for fetching sports odds
THE_ODDS_API_KEY=your_odds_api_key_here

# OpenAI API - REQUIRED for AI parlay generation
OPENAI_API_KEY=your_openai_api_key_here
```

**Note:** `JWT_SECRET` is auto-generated by Render, so you don't need to set it.

---

## üü° OPTIONAL - Enhanced Features

These are **optional** but recommended for better functionality:

### The Odds API Fallback (Recommended)
```env
# Fallback key if primary key runs out of credits
THE_ODDS_API_FALLBACK_KEY=your_fallback_key_here
```

### Sports Data APIs (Optional)
```env
# SportsRadar API - for live game data, schedules, stats, injuries
SPORTSRADAR_API_KEY=your_sportsradar_key_here

# OpenWeather API - for weather data
OPENWEATHER_API_KEY=your_openweather_key_here
```

### Email Service (Optional - for email verification & password reset)
```env
# Resend API - for transactional emails
RESEND_API_KEY=your_resend_api_key_here

# Optional: Override default sender (once domain is verified)
# RESEND_FROM="Parlay Gorilla <noreply@parlaygorilla.com>"
```

### Image APIs (Optional - for team photos)
```env
# Pexels API - for team action photos (200 req/hour free)
PEXELS_API_KEY=your_pexels_api_key_here

# Getty Images (requires license) - better quality
# GETTY_IMAGES_API_KEY=your_key_here
# GETTY_IMAGES_API_SECRET=your_secret_here

# Unsplash (50 req/hour free)
# UNSPLASH_ACCESS_KEY=your_key_here
```

---

## üí≥ REQUIRED - Payment Providers (If Accepting Payments)

### LemonSqueezy (Card Payments)

**Required if you want to accept card payments:**

```env
# LemonSqueezy API credentials
LEMONSQUEEZY_API_KEY=your_lemonsqueezy_api_key_here
LEMONSQUEEZY_STORE_ID=your_store_id_here
LEMONSQUEEZY_WEBHOOK_SECRET=your_webhook_secret_here

# Subscription plan variants (REQUIRED for subscriptions)
LEMONSQUEEZY_PREMIUM_MONTHLY_VARIANT_ID=your_variant_id_here
LEMONSQUEEZY_PREMIUM_ANNUAL_VARIANT_ID=your_variant_id_here
LEMONSQUEEZY_LIFETIME_VARIANT_ID=your_variant_id_here

# Credit pack variants (REQUIRED for credit pack purchases)
LEMONSQUEEZY_CREDITS_10_VARIANT_ID=your_variant_id_here
LEMONSQUEEZY_CREDITS_25_VARIANT_ID=your_variant_id_here
LEMONSQUEEZY_CREDITS_50_VARIANT_ID=your_variant_id_here
LEMONSQUEEZY_CREDITS_100_VARIANT_ID=your_variant_id_here
```

### Coinbase Commerce (Crypto Payments)

**Required if you want to accept crypto payments:**

```env
# Coinbase Commerce API credentials
COINBASE_COMMERCE_API_KEY=your_coinbase_api_key_here
COINBASE_COMMERCE_WEBHOOK_SECRET=your_webhook_secret_here
```

---

## üîî OPTIONAL - Web Push Notifications

**Only set these if you want to enable browser push notifications:**

```env
WEB_PUSH_ENABLED=true
WEB_PUSH_VAPID_PUBLIC_KEY=your_vapid_public_key_here
WEB_PUSH_VAPID_PRIVATE_KEY=your_vapid_private_key_here
WEB_PUSH_SUBJECT=mailto:contact@f3ai.dev
```

**Note:** Currently set to `false` in `render.yaml`, so these are optional.

---

## üö´ DO NOT SET (Local Development Only)

These are **only for local development** - do NOT set in Render:

- ‚ùå `USE_SQLITE` - Always `false` in production
- ‚ùå `MONGODB_URL` - Not used in production
- ‚ùå `MONGODB_DATABASE_NAME` - Not used in production
- ‚ùå `USE_MONGODB_AUTH` - Not used in production
- ‚ùå `TELEGRAM_BOT_TOKEN` - Not used in production
- ‚ùå `TELEGRAM_DEFAULT_CHAT_ID` - Not used in production
- ‚ùå `ENABLE_BACKGROUND_JOBS` - Not needed (always enabled)
- ‚ùå `SCRAPER_INTERVAL_MINUTES` - Not needed
- ‚ùå `ODDS_SYNC_INTERVAL_MINUTES` - Not needed
- ‚ùå `RATE_LIMIT_REQUESTS` - Uses defaults
- ‚ùå `RATE_LIMIT_PERIOD` - Uses defaults
- ‚ùå `JWT_ALGORITHM` - Uses defaults
- ‚ùå `JWT_EXPIRATION_HOURS` - Uses defaults
- ‚ùå `SUPABASE_URL` - Not used (using JWT auth)
- ‚ùå `SUPABASE_PUBLISHABLE_KEY` - Not used
- ‚ùå `SUPABASE_SECRET_KEY` - Not used

---

## üìù Quick Setup Checklist

### Minimum Required (App Works)
- [ ] `THE_ODDS_API_KEY`
- [ ] `OPENAI_API_KEY`

### With Payments (LemonSqueezy)
- [ ] `LEMONSQUEEZY_API_KEY`
- [ ] `LEMONSQUEEZY_STORE_ID`
- [ ] `LEMONSQUEEZY_WEBHOOK_SECRET`
- [ ] `LEMONSQUEEZY_PREMIUM_MONTHLY_VARIANT_ID`
- [ ] `LEMONSQUEEZY_PREMIUM_ANNUAL_VARIANT_ID`
- [ ] `LEMONSQUEEZY_LIFETIME_VARIANT_ID`
- [ ] `LEMONSQUEEZY_CREDITS_10_VARIANT_ID`
- [ ] `LEMONSQUEEZY_CREDITS_25_VARIANT_ID`
- [ ] `LEMONSQUEEZY_CREDITS_50_VARIANT_ID`
- [ ] `LEMONSQUEEZY_CREDITS_100_VARIANT_ID`

### With Crypto Payments (Coinbase)
- [ ] `COINBASE_COMMERCE_API_KEY`
- [ ] `COINBASE_COMMERCE_WEBHOOK_SECRET`

### Recommended Optional
- [ ] `THE_ODDS_API_FALLBACK_KEY`
- [ ] `SPORTSRADAR_API_KEY`
- [ ] `RESEND_API_KEY`
- [ ] `OPENWEATHER_API_KEY`
- [ ] `PEXELS_API_KEY`

---

## üîß How to Add Variables in Render

1. Go to [Render Dashboard](https://dashboard.render.com)
2. Click on **`parlay-gorilla-backend`** service
3. Go to **Environment** tab
4. Click **"Add Environment Variable"**
5. Enter the **Key** and **Value**
6. Click **"Save Changes"**
7. Render will automatically redeploy

---

## üîç Verify Your Setup

After adding variables, check:

1. **Service Status**: Should show "Live" (green)
2. **Logs**: Check for any startup errors
3. **Health Endpoint**: Visit `https://api.parlaygorilla.com/health` (should return 200 OK)
4. **Webhook Test**: Make a test purchase and verify webhooks are received

---

## üìö Related Documentation

- [Webhook URLs Production Guide](./WEBHOOK_URLS_PRODUCTION.md)
- [Render Environment Variables Quick Reference](./RENDER_ENV_VARS_QUICK_REFERENCE.md)
- [Render Setup Guide](./RENDER_SETUP_GUIDE.md)
- [LemonSqueezy Webhook Testing](./LEMONSQUEEZY_WEBHOOK_TESTING_GUIDE.md)
- [Coinbase Commerce Webhook Setup](./COINBASE_COMMERCE_WEBHOOK_SETUP.md)

---

## üí° Pro Tips

1. **Never commit secrets to git** - Render environment variables are secure
2. **Use Render's sync: false** - Secrets are marked as `sync: false` in `render.yaml` so they're not synced from git
3. **Test after adding** - Always verify the service restarts successfully after adding variables
4. **Keep local .env separate** - Your local `.env` file is for development only
5. **Document changes** - Keep track of which variables you've added in Render

---

**Last Updated:** Based on current `backend/.env` and `render.yaml` configuration

